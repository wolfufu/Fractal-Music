<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–§—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º—É–∑—ã–∫–∏</title>
  <link rel="stylesheet" href="/static/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <header class="header">
      <h1>üéµ –§—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º—É–∑—ã–∫–∏</h1>
      <p class="subtitle">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤</p>
    </header>

        <main class="main-content">
            <div class="settings-panel">
                <div class="settings-group">
                    <h2><i class="icon-settings"></i> –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                    <div class="control">
                        <label for="tempo">–¢–µ–º–ø (BPM):</label>
                        <input type="range" id="tempo" min="40" max="200" value="120">
                        <span id="tempo-value">120</span>
                    </div>
                    
                    <div class="control">
                        <label for="root-note">–¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:</label>
                        <input type="range" id="root-note" min="48" max="72" value="60">
                        <span id="root-note-value">60</span> 
                    </div>
                    
                    <div class="control">
                        <label for="scale">–ì–∞–º–º–∞:</label>
                        <select id="scale" class="select-box"></select>
                    </div>
                </div>

                <div class="settings-group">
                    <h2><i class="icon-instruments"></i> –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h2>
                    <div class="control">
                        <label for="melody-instr">–ú–µ–ª–æ–¥–∏—è:</label>
                        <select id="melody-instr" class="select-box"></select>
                    </div>
                    
                    <div class="control">
                        <label for="bass-instr">–ë–∞—Å:</label>
                        <select id="bass-instr" class="select-box"></select>
                    </div>
                    
                    <div class="control">
                        <label for="drum-instr">–£–¥–∞—Ä–Ω—ã–µ:</label>
                        <select id="drum-instr" class="select-box"></select>
                    </div>
                </div>

                <div class="settings-group">
                    <h2><i class="icon-fractal"></i> –§—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h2>
                    <div class="control">
                        <label for="l-system-iter">–°–ª–æ–∂–Ω–æ—Å—Ç—å –º–µ–ª–æ–¥–∏–∏:</label>
                        <input type="range" id="l-system-iter" min="3" max="8" value="5">
                        <span id="l-system-iter-value">5</span>
                    </div>
                    
                    <div class="control">
                        <label for="chaos-level">–£—Ä–æ–≤–µ–Ω—å —Ö–∞–æ—Å–∞:</label>
                        <input type="range" id="chaos-level" min="0" max="100" value="30">
                        <span id="chaos-level-value">30%</span>
                    </div>
                    
                    <div class="control">
                        <label for="drum-levels">–°–ª–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞—Ä–Ω—ã—Ö:</label>
                        <input type="range" id="drum-levels" min="2" max="6" value="4">
                        <span id="drum-levels-value">4</span>
                    </div>
                </div>

                <div class="settings-group">
                    <h2><i class="icon-effects"></i> –≠—Ñ—Ñ–µ–∫—Ç—ã</h2>
                    <div class="control checkbox">
                        <input type="checkbox" id="arpeggio" checked>
                        <label for="arpeggio">–ê—Ä–ø–µ–¥–∂–∏–æ</label>
                    </div>
                    
                    <div class="control checkbox">
                        <input type="checkbox" id="reverb">
                        <label for="reverb">–†–µ–≤–µ—Ä–±–µ—Ä–∞—Ü–∏—è</label>
                    </div>
                    
                    <div class="control">
                        <label for="swing">–°–≤–∏–Ω–≥:</label>
                        <input type="range" id="swing" min="0" max="100" value="20">
                        <span id="swing-value">20%</span>
                    </div>
                    
                    <div class="control">
                        <label for="humanize">–û–∂–∏–≤–ª–µ–Ω–∏–µ:</label>
                        <input type="range" id="humanize" min="0" max="100" value="10">
                        <span id="humanize-value">10%</span>
                    </div>

                    <div class="control">
                        <label for="melody-vol">–ì—Ä–æ–º–∫–æ—Å—Ç—å –º–µ–ª–æ–¥–∏–∏:</label>
                        <input type="range" id="melody-vol" min="0" max="127" value="110">
                        <span id="melody-vol-value">110</span>
                    </div>
                    
                    <div class="control">
                        <label for="bass-vol">–ì—Ä–æ–º–∫–æ—Å—Ç—å –±–∞—Å–∞:</label>
                        <input type="range" id="bass-vol" min="0" max="127" value="115">
                        <span id="bass-vol-value">115</span>
                    </div>
                    
                    <div class="control">
                        <label for="drums-vol">–ì—Ä–æ–º–∫–æ—Å—Ç—å —É–¥–∞—Ä–Ω—ã—Ö:</label>
                        <input type="range" id="drums-vol" min="0" max="127" value="127">
                        <span id="drums-vol-value">127</span>
                    </div>
                </div>
            </div>

            <div class="visualization">
                <div class="fractal-display">
                    <canvas id="fractal-canvas"></canvas>
                </div>
                
                <div class="controls">
                    <button id="generate-btn" class="generate-btn">
                      <span class="btn-icon">üéµ</span>
                      <span class="btn-text">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º—É–∑—ã–∫—É</span>
                    </button>
                    <div id="status-message" class="status-message"></div>
                    <audio id="midi-player" controls style="display: none; margin-top: 20px;"></audio>
                  </div>
                </main>
            
                <footer class="footer">
                  <p>–§—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º—É–∑—ã–∫–∏ ¬© 2025 | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Python, Flask –∏ MIDIUtil</p>
                </footer>
              </div>
            
              <script src="https://cdnjs.cloudflare.com/ajax/libs/MIDI.js/0.3.1/MIDI.min.js"></script>
              <script type="module" src="/static/script.js"></script>

</body>
</html>